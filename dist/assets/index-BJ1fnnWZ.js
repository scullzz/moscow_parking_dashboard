import{j as e,r as c,i as f}from"./index-CkkKPyuP.js";import{C as g,b,c as N,e as w,T as i,f as t,g as T,a as r,P as y,l as C}from"./pagination-CzlqMKQ0.js";import{f as S}from"./format-cwXK75ha.js";function P({items:a}){const n=s=>S(new Date(s),"yyyy-MM-dd HH:mm");return e.jsx(g,{className:"rounded-2xl border border-muted bg-background shadow-lg",children:e.jsx(b,{className:"overflow-x-auto p-0",children:e.jsxs(N,{className:"min-w-full text-sm",children:[e.jsx(w,{children:e.jsxs(i,{className:"text-xs uppercase text-muted-foreground",children:[e.jsx(t,{className:"w-16",children:"ID"}),e.jsx(t,{className:"w-32",children:"User ID"}),e.jsx(t,{className:"w-32",children:"Tariff ID"}),e.jsx(t,{className:"w-56",children:"End date"}),e.jsx(t,{className:"w-56",children:"Created"}),e.jsx(t,{className:"w-56",children:"Updated"})]})}),e.jsx(T,{children:a.map(s=>e.jsxs(i,{className:"hover:bg-muted/50",children:[e.jsx(r,{children:s.id}),e.jsx(r,{children:s.user_id}),e.jsx(r,{children:s.tariff_id}),e.jsx(r,{children:n(s.subscription_end)}),e.jsx(r,{children:n(s.create_dttm)}),e.jsx(r,{children:n(s.update_dttm)})]},s.id))})]})})})}function H(){const[a,n]=c.useState(1),s=50,[o,m]=c.useState([]),[x,u]=c.useState(1),[h,l]=c.useState(!0),j=async(p=a)=>{l(!0);try{const d=await C(p,s);m(d.items),u(d.pages)}catch{f.error("Cannot load subscriptions")}finally{l(!1)}};return c.useEffect(()=>{j(a)},[a]),e.jsx("main",{className:"container mx-auto space-y-6 p-6",children:h?e.jsx("p",{className:"text-center",children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(P,{items:o}),e.jsx(y,{current:a,total:x,size:s,onChange:n})]})})}export{H as default};
