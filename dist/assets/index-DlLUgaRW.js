import{j as e,r as c,i as g}from"./index-CkkKPyuP.js";import{C as y,b as N,c as b,e as w,T as d,f as a,g as p,a as t,P,q as T}from"./pagination-CzlqMKQ0.js";import{f as C}from"./format-cwXK75ha.js";function H({items:r}){const n=s=>C(new Date(s),"yyyy-MM-dd HH:mm");return e.jsx(y,{className:"rounded-2xl border border-muted bg-background shadow-lg",children:e.jsx(N,{className:"overflow-x-auto p-0",children:e.jsxs(b,{className:"min-w-full text-sm",children:[e.jsx(w,{children:e.jsxs(d,{className:"text-xs uppercase text-muted-foreground",children:[e.jsx(a,{className:"w-16",children:"ID"}),e.jsx(a,{className:"w-32",children:"User ID"}),e.jsx(a,{className:"w-32",children:"Tariff ID"}),e.jsx(a,{className:"w-24 text-right",children:"Price"}),e.jsx(a,{className:"w-28",children:"Success"}),e.jsx(a,{children:"Invoice ID"}),e.jsx(a,{className:"w-56",children:"Created"})]})}),e.jsx(p,{children:r.map(s=>e.jsxs(d,{className:"hover:bg-muted/50",children:[e.jsx(t,{children:s.id}),e.jsx(t,{children:s.user_id}),e.jsx(t,{children:s.tariff_id}),e.jsx(t,{className:"text-right",children:s.price}),e.jsx(t,{children:s.successfully?"✔":"✖"}),e.jsx(t,{children:s.invoice_id}),e.jsx(t,{children:n(s.create_dttm)})]},s.id))})]})})})}function S(){const[r,n]=c.useState(1),s=50,[o,x]=c.useState([]),[m,h]=c.useState(1),[u,i]=c.useState(!0),j=async(f=r)=>{i(!0);try{const l=await T(f,s);x(l.items),h(l.pages)}catch{g.error("Cannot load pay history")}finally{i(!1)}};return c.useEffect(()=>void j(r),[r]),e.jsx("main",{className:"container mx-auto space-y-6 p-6",children:u?e.jsx("p",{className:"text-center",children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(H,{items:o}),e.jsx(P,{current:r,total:m,size:s,onChange:n})]})})}export{S as default};
