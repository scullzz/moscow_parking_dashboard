import{u as le,r as a,j as n,a as z,S as ce,c as b,b as V,L as G,d as de,B as ue,e as pe}from"./index-CkkKPyuP.js";import{I as fe,M as he}from"./icons-Fc6yfTK3.js";import{c as _,a as xe,b as F,A as me,d as T,P as ye,D as ge,C as ve,e as be,u as we,f as Te,R as je,g as Ce,h as ke,i as Ne,j as S,k as Pe,O as B,l as $,m as Ee,n as Re,T as U,o as q,p as De}from"./index-C-92eTuZ.js";import{P as W}from"./index-BpDdPLnr.js";function Y(){const{pathname:e}=le();return a.useMemo(()=>e,[e])}/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=_("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=_("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=_("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var Oe="VisuallyHidden",X=a.forwardRef((e,o)=>n.jsx(W.span,{...e,ref:o,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));X.displayName=Oe;var _e=X,[E,gt]=xe("Tooltip",[F]),R=F(),K="TooltipProvider",Ae=700,L="tooltip.open",[Ie,A]=E(K),J=e=>{const{__scopeTooltip:o,delayDuration:t=Ae,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:i}=e,[c,u]=a.useState(!0),l=a.useRef(!1),p=a.useRef(0);return a.useEffect(()=>{const d=p.current;return()=>window.clearTimeout(d)},[]),n.jsx(Ie,{scope:o,isOpenDelayed:c,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(p.current),u(!1)},[]),onClose:a.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u(!0),s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:a.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:i})};J.displayName=K;var D="Tooltip",[He,M]=E(D),Q=e=>{const{__scopeTooltip:o,children:t,open:s,defaultOpen:r=!1,onOpenChange:i,disableHoverableContent:c,delayDuration:u}=e,l=A(D,e.__scopeTooltip),p=R(o),[d,f]=a.useState(null),m=we(),h=a.useRef(0),x=c??l.disableHoverableContent,g=u??l.delayDuration,y=a.useRef(!1),[w=!1,v]=Te({prop:s,defaultProp:r,onChange:H=>{H?(l.onOpen(),document.dispatchEvent(new CustomEvent(L))):l.onClose(),i==null||i(H)}}),C=a.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),k=a.useCallback(()=>{window.clearTimeout(h.current),y.current=!1,v(!0)},[v]),N=a.useCallback(()=>{window.clearTimeout(h.current),v(!1)},[v]),I=a.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,v(!0)},g)},[g,v]);return a.useEffect(()=>()=>window.clearTimeout(h.current),[]),n.jsx(je,{...p,children:n.jsx(He,{scope:o,contentId:m,open:w,stateAttribute:C,trigger:d,onTriggerChange:f,onTriggerEnter:a.useCallback(()=>{l.isOpenDelayed?I():k()},[l.isOpenDelayed,I,k]),onTriggerLeave:a.useCallback(()=>{x?N():window.clearTimeout(h.current)},[N,x]),onOpen:k,onClose:N,disableHoverableContent:x,children:t})})};Q.displayName=D;var O="TooltipTrigger",Z=a.forwardRef((e,o)=>{const{__scopeTooltip:t,...s}=e,r=M(O,t),i=A(O,t),c=R(t),u=a.useRef(null),l=z(o,u,r.onTriggerChange),p=a.useRef(!1),d=a.useRef(!1),f=a.useCallback(()=>p.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(me,{asChild:!0,...c,children:n.jsx(W.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:l,onPointerMove:T(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:T(e.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:T(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:T(e.onFocus,()=>{p.current||r.onOpen()}),onBlur:T(e.onBlur,r.onClose),onClick:T(e.onClick,r.onClose)})})});Z.displayName=O;var ze="TooltipPortal",[vt,Ve]=E(ze,{forceMount:void 0}),j="TooltipContent",ee=a.forwardRef((e,o)=>{const t=Ve(j,e.__scopeTooltip),{forceMount:s=t.forceMount,side:r="top",...i}=e,c=M(j,e.__scopeTooltip);return n.jsx(ye,{present:s||c.open,children:c.disableHoverableContent?n.jsx(te,{side:r,...i,ref:o}):n.jsx(Ge,{side:r,...i,ref:o})})}),Ge=a.forwardRef((e,o)=>{const t=M(j,e.__scopeTooltip),s=A(j,e.__scopeTooltip),r=a.useRef(null),i=z(o,r),[c,u]=a.useState(null),{trigger:l,onClose:p}=t,d=r.current,{onPointerInTransitChange:f}=s,m=a.useCallback(()=>{u(null),f(!1)},[f]),h=a.useCallback((x,g)=>{const y=x.currentTarget,w={x:x.clientX,y:x.clientY},v=Ue(w,y.getBoundingClientRect()),C=qe(w,v),k=We(g.getBoundingClientRect()),N=Xe([...C,...k]);u(N),f(!0)},[f]);return a.useEffect(()=>()=>m(),[m]),a.useEffect(()=>{if(l&&d){const x=y=>h(y,d),g=y=>h(y,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[l,d,h,m]),a.useEffect(()=>{if(c){const x=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),C=!Ye(w,c);v?m():C&&(m(),p())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,c,p,m]),n.jsx(te,{...e,ref:i})}),[Fe,Be]=E(D,{isInside:!1}),te=a.forwardRef((e,o)=>{const{__scopeTooltip:t,children:s,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:c,...u}=e,l=M(j,t),p=R(t),{onClose:d}=l;return a.useEffect(()=>(document.addEventListener(L,d),()=>document.removeEventListener(L,d)),[d]),a.useEffect(()=>{if(l.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),n.jsx(ge,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:n.jsxs(ve,{"data-state":l.stateAttribute,...p,...u,ref:o,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(ce,{children:s}),n.jsx(Fe,{scope:t,isInside:!0,children:n.jsx(_e,{id:l.contentId,role:"tooltip",children:r||s})})]})})});ee.displayName=j;var oe="TooltipArrow",$e=a.forwardRef((e,o)=>{const{__scopeTooltip:t,...s}=e,r=R(t);return Be(oe,t).isInside?null:n.jsx(be,{...r,...s,ref:o})});$e.displayName=oe;function Ue(e,o){const t=Math.abs(o.top-e.y),s=Math.abs(o.bottom-e.y),r=Math.abs(o.right-e.x),i=Math.abs(o.left-e.x);switch(Math.min(t,s,r,i)){case i:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function qe(e,o,t=5){const s=[];switch(o){case"top":s.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":s.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":s.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":s.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return s}function We(e){const{top:o,right:t,bottom:s,left:r}=e;return[{x:r,y:o},{x:t,y:o},{x:t,y:s},{x:r,y:s}]}function Ye(e,o){const{x:t,y:s}=e;let r=!1;for(let i=0,c=o.length-1;i<o.length;c=i++){const u=o[i].x,l=o[i].y,p=o[c].x,d=o[c].y;l>s!=d>s&&t<(p-u)*(s-l)/(d-l)+u&&(r=!r)}return r}function Xe(e){const o=e.slice();return o.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),Ke(o)}function Ke(e){if(e.length<=1)return e.slice();const o=[];for(let s=0;s<e.length;s++){const r=e[s];for(;o.length>=2;){const i=o[o.length-1],c=o[o.length-2];if((i.x-c.x)*(r.y-c.y)>=(i.y-c.y)*(r.x-c.x))o.pop();else break}o.push(r)}o.pop();const t=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;t.length>=2;){const i=t[t.length-1],c=t[t.length-2];if((i.x-c.x)*(r.y-c.y)>=(i.y-c.y)*(r.x-c.x))t.pop();else break}t.push(r)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}var Je=J,Qe=Q,Ze=Z,ne=ee;const et=Je,tt=Qe,ot=Ze,se=a.forwardRef(({className:e,sideOffset:o=4,...t},s)=>n.jsx(ne,{ref:s,sideOffset:o,className:b("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));se.displayName=ne.displayName;function re({items:e,setOpen:o,isMobileNav:t=!1}){const s=Y(),{isMinimized:r}=V();return e!=null&&e.length?(console.log("isActive",t,r),n.jsx("nav",{className:"grid items-start gap-2",children:n.jsx(et,{children:e.map((i,c)=>{const u=fe[i.icon||"arrowRight"];return i.href&&n.jsxs(tt,{children:[n.jsx(ot,{asChild:!0,children:n.jsxs(G,{to:i.disabled?"/":i.href,className:b("flex items-center gap-2 overflow-hidden rounded-md py-2 text-sm font-medium hover:text-muted-foreground",s===i.href?"bg-white text-black hover:text-black":"transparent",i.disabled&&"cursor-not-allowed opacity-80"),onClick:()=>{o&&o(!1)},children:[n.jsx(u,{className:"ml-2.5 size-5"}),t||!r&&!t?n.jsx("span",{className:"mr-2 truncate",children:i.title}):""]})}),n.jsx(se,{align:"center",side:"right",sideOffset:8,className:r?"inline-block":"hidden",children:i.title})]},c)})})})):null}const P=[{title:"Users",href:"/users",icon:"user",label:"Users"},{title:"Tariffs",href:"/tariffs",icon:"tariff",label:"Tariffs"},{title:"Subscriptions",href:"/subscriptions",icon:"subscription",label:"Subscriptions"},{title:"Pay history",href:"/pay-history",icon:"payHistory",label:"Pay history"},{title:"Vehicles",href:"/vehicles",icon:"vehicle",label:"Vehicles"},{title:"Parking",href:"/parking",icon:"parking",label:"Parking"},{title:"Settings",href:"/settings",icon:"settings",label:"Settings"},{title:"Login",href:"/login",icon:"login",label:"Login"}];function nt({className:e}){const{isMinimized:o,toggle:t}=V(),[s,r]=a.useState(!1),i=()=>{r(!0),t(),setTimeout(()=>r(!1),500)};return n.jsxs("nav",{className:b("relative z-10 hidden h-screen flex-none  px-3 md:block",s&&"duration-500",o?"w-[80px]":"w-72",e),children:[n.jsxs("div",{className:b("flex items-center px-0 py-5 md:px-2",o?"justify-center ":"justify-between"),children:[!o&&n.jsx("h2",{className:"text-xl font-bold",children:"Moscow Parking"}),n.jsx(Me,{className:b("size-8 cursor-pointer rounded-full border bg-background text-foreground",o&&"rotate-180"),onClick:i})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsx("div",{className:"px-2 py-2",children:n.jsx("div",{className:"mt-3 space-y-1",children:n.jsx(re,{items:P})})})})]})}function st({title:e,description:o,className:t}){return n.jsxs("div",{className:t,children:[n.jsx("h2",{className:"text-xl font-bold tracking-tight text-primary sm:text-3xl",children:e}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o})]})}function rt(){const{setTheme:e}=de();return n.jsxs(Ce,{children:[n.jsx(ke,{asChild:!0,children:n.jsxs(ue,{variant:"outline",size:"icon",children:[n.jsx(Le,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),n.jsx(he,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),n.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),n.jsxs(Ne,{align:"end",children:[n.jsx(S,{onClick:()=>e("light"),children:"Light"}),n.jsx(S,{onClick:()=>e("dark"),children:"Dark"}),n.jsx(S,{onClick:()=>e("system"),children:"System"})]})]})}const at=e=>{const o=P.find(t=>t.href===e)||P.find(t=>e.startsWith(t.href+"/")&&t.href!=="/");return(o==null?void 0:o.title)||""};function it(){const e=Y(),o=at(e);return n.jsxs("div",{className:"flex flex-1 items-center justify-between bg-secondary px-4",children:[n.jsx(st,{title:o}),n.jsx("div",{className:"ml-4 flex items-center md:ml-6",children:n.jsx(rt,{})})]})}const lt=Pe,ct=De,ae=a.forwardRef(({className:e,...o},t)=>n.jsx(B,{className:b("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...o,ref:t}));ae.displayName=B.displayName;const dt=pe("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ie=a.forwardRef(({side:e="right",className:o,children:t,...s},r)=>n.jsxs(ct,{children:[n.jsx(ae,{}),n.jsxs($,{ref:r,className:b(dt({side:e}),o),...s,children:[t,n.jsxs(Ee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Re,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ie.displayName=$.displayName;const ut=a.forwardRef(({className:e,...o},t)=>n.jsx(U,{ref:t,className:b("text-lg font-semibold text-foreground",e),...o}));ut.displayName=U.displayName;const pt=a.forwardRef(({className:e,...o},t)=>n.jsx(q,{ref:t,className:b("text-sm text-muted-foreground",e),...o}));pt.displayName=q.displayName;function ft({setSidebarOpen:e,sidebarOpen:o}){return n.jsx(n.Fragment,{children:n.jsx(lt,{open:o,onOpenChange:e,children:n.jsx(ie,{side:"left",className:"bg-background !px-0",children:n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-4 px-3 py-2",children:[n.jsx(G,{to:"/",className:"px-2 py-2 text-2xl font-bold text-white ",children:"Moscow Parking"}),n.jsx("div",{className:"space-y-1 px-2",children:n.jsx(re,{items:P,setOpen:e})})]})})})})})}function bt({children:e}){const[o,t]=a.useState(!1);return n.jsxs("div",{className:"flex h-screen overflow-hidden bg-secondary",children:[n.jsx(ft,{sidebarOpen:o,setSidebarOpen:t}),n.jsx(nt,{}),n.jsxs("div",{className:"flex w-0 flex-1 flex-col overflow-hidden",children:[n.jsxs("div",{className:"relative z-10 flex h-20 flex-shrink-0 md:hidden",children:[n.jsxs("button",{className:"pl-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 xl:hidden",onClick:()=>t(!0),children:[n.jsx("span",{className:"sr-only",children:"Open sidebar"}),n.jsx(Se,{className:"h-6 w-6","aria-hidden":"true"})]}),n.jsx(it,{})]}),n.jsx("main",{className:"relative mx-2 my-3 mr-2 flex-1 overflow-hidden rounded-xl  bg-background focus:outline-none md:mx-0 md:my-4 md:mr-4 ",children:e})]})]})}export{bt as default};
